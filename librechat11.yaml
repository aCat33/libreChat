version: 1.3.1
cache: true

# 启用 MCP 功能
interface:
  mcpServers:
    use: true      # 允许用户使用配置的 MCP 服务器
    share: false   # 不允许分享
    create: false  # 不允许用户创建新的 MCP 服务器
    public: false  # 不允许公开分享


mcpServers:
  oilfield-data:
    command: python
    args:
      - "d:/work/oilMCP/oilfield_mcp_server.py"
    env:
      DATABASE_URL: "sqlite:///d:/work/oilMCP/oilfield.db"
      PYTHONIOENCODING: "utf-8"
      LOG_LEVEL: "INFO"
      # 开发模式：true=跳过权限检查（测试用），false=启用严格权限（生产用）
      DEV_MODE: "true"
    description: "油田钻井数据查询服务"
    disabled: false
    timeout: 60000

# DeepSeek配置
endpoints:
  custom:
    # DeepSeek端点
    - name: "DeepSeek"
      apiKey: "${DEEPSEEK_API_KEY}"
      baseURL: "https://api.deepseek.com/v1"
      models:
        default:
          - "deepseek-chat"
          - "deepseek-coder"
        fetch: false
      titleConvo: true
      titleModel: "deepseek-chat"
      summarize: false
      summaryModel: "deepseek-chat"
      forcePrompt: false
      modelDisplayLabel: "DeepSeek"
      # 启用记忆功能
      memory:
        enabled: true
      addParams:
        max_tokens: 4096
        temperature: 1
        top_p: 1
        frequency_penalty: 0
        presence_penalty: 0
      dropParams: ["top_p", "frequency_penalty", "presence_penalty"]
